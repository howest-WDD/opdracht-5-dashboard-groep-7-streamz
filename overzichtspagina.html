<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="img/favicon.ico" />
    <title>Streamz - Overzicht</title>

    <link rel="stylesheet" href="dist/styles.css" />

    <script src="dist/main.js"></script>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
  </head>
  <body class="js-page-table">
    <nav class="c-nav js-nav">
      <div class="o-container">
          <div class="row">
              <div class="col-9 col-md-4 c-nav__logo">
                  <a href="index.html" class="c-logo">
                      <img class="c-logo__svg" src="./img/logo.svg" alt="Logo">
                  </a>
              </div>
              <div class="col-3 col-md-8 c-nav__containerfix">
                  <div class="c-navtoggled__container">
                      <input class="c-nav__toggle" type="checkbox">
                      <span class="c-nav__bar c-nav__bar--top"></span>
                      <span class="c-nav__bar c-nav__bar--mid"></span>
                      <span class="c-nav__bar c-nav__bar--bottom"></span>

                      <ul class="c-nav__list" id="nav-list">
                          <li class="c-nav__item c-nav__item--datetime">
                              <div id="MyClockDisplay" class="c-nav__clock" onload="showTime()"></div>
                              <div id="MyDateDisplay" class="c-nav__date" onload="showDate()"></div>
                          </li>
                          <li class="c-nav__item c-nav__item--chat">
                              <a class="c-nav__link" href="#"><svg class="c-nav__svg bi bi-chat-left-text-fill" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" viewBox="0 0 16 16">
                                      <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z" />
                                  </svg></a>
                          </li>
                          <li class="c-nav__item  c-nav__item--message">
                              <a class="c-nav__link" href="#"><svg class="c-nav__svg bi bi-bell-fill" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" viewBox="0 0 16 16">
                                      <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z" />
                                  </svg></a>
                          </li>
                          <li class="c-nav__item">
                              <a href="#" class="c-nav__link"><img src="./img/avatar.svg" style="padding-right: 1rem" alt="avatar">Gandalf The Gray</a>
                          </li>
                          <li style="list-style-type: none;" id="c-nav-responsive-js"></li>
                      </ul>
                  </div>
              </div>
              <nav class="c-sidenav col-2 navbar-primary">
                  <ul class="c-sidenav__menu navbar-primary-menu">
                      <li class="c-sidenav__item">
                          <a class="c-sidenav__link" href="index.html"><img class="c-sidenav__icon" src="./img/dashboardicon.svg" alt="dashboardicon">Dashboard</a>
                      </li>
                      <li class="c-sidenav__item">
                          <a class="c-sidenav__link" href="overzichtspagina.html"><img class="c-sidenav__icon c-sidenav__icon--active" src="./img/movieicon.svg" alt="dashboardicon">Content</a>
                          <a href="film-input.html"><img class="c-sidenav__icon c-sidenav__icon--plus" src="./img/plus.svg" alt="dashboardicon"></a>
                      </li>
                      <li class="c-sidenav__item">
                          <a class="c-sidenav__link" href="gebruikers.html"><img class="c-sidenav__icon" src="./img/usericon.svg" alt="dashboardicon">Gebruikers</a>
                      </li>
                  </ul>
                  <div class="c-sidenav__rapport">
                      <ul class="c-sidenav__menu c-sidenav__menu--2de navbar-primary-menu">
                          <li class="c-sidenav__item">
                              <a class="c-sidenav__link" href="startscherm-beheer.html"><img class="c-sidenav__icon" src="./img/schermbeheer.svg" alt="dashboardicon" />Schermbeheer</a>
                            </li>
                          <li class="c-sidenav__item">
                              <a class="c-sidenav__link" href="instellingen.html"><img class="c-sidenav__icon" src="./img/settings.svg" alt="dashboardicon">Instellingen</a>
                          </li>
                      </ul>
                      <div class="c-sidenav__ra">
                          <p>PDF rapport</p>
                          <p>Download maandelijks rapport</p>
                          <button class="c-btn c-btn__sidenav">download</button>
                      </div>
                  </div>
              </nav>
          </div>
      </div>
  </nav>
    <h2 class="c-maintitle">Films en series</h2>
    <section class="c-content__table c-page-container">
      <div class="c-table__header">
        <div class="c-table__filters c-content__table--mrg">
          <input type="text" placeholder="Snel zoeken..." id="search-input" class="c-search animate-pop anim-delay-2" />
          <!-- <select name="show-limit-items" id="show-limit-items" class="c-dropdown c-dropdown--mrg c-dropdown--show animate-pop anim-delay-3" onChange="showItems(this)">
            <option selected class="c-dropdown__option" value="show5">Toon: 5</option>
            <option class="c-dropdown__option" value="show15">Toon: 15</option>
            <option class="c-dropdown__option" value="show30">Toon: 25</option>
            <option class="c-dropdown__option" value="show45">Toon: 35</option>
            <option class="c-dropdown__option" value="show45">Toon: 50</option>
          </select> -->

          <a class="c-content__table--btn animate-pop anim-delay-4" href="film-input.html">Toevoegen</a>

          <!-- <div class="c-pagination">
              <a href="#" class="c-pagination__link">&laquo;</a>
              <a href="#" class="c-pagination__link c-pagination__link--active">1</a>
              <a href="#" class="c-pagination__link">2</a>
              <a href="#" class="c-pagination__link">3</a>
              <a href="#" class="c-pagination__link">&raquo;</a>
            </div> -->
        </div>
    </div>

        <table class="c-table js-table animate-table" id="product-table">
          <thead class="c-table__head">
            <tr>
              <th class="c-table__head--check">&nbsp;</th>

              <th class="c-table__head--id" id="table-head-id" data-column="id" data-order="desc">ID &#9650;</th>
              <th class="c-table__head--foto"></th>
              <th class="c-table__head--naam" id="table-head-naam" data-column="title" data-order="desc">Title &#9650;</th>
              <th class="c-table__head--email" id="table-head-cat" data-column="title" data-order="desc">Categorie &#9650;</th>
              <th class="c-table__head--pub">Published</th>
              <th class="c-table__head--language">Language</th>
            </tr>
          </thead>
          <tbody class="c-table__body" id="js-tableproduct__body"></tbody>
        </table>

    </section>

    <script>
      var myArray = [];

      $("#search-input").on("keyup", function () {
        var value = $(this).val();
        //console.log(value)
        var data = searchTable(value, myArray);
        buildTable(data);
      });

      $("#table-head-id").on("click", function () {
        var column = $(this).data("column");
        var order = $(this).data("order");
        //console.log('was clicked', column, order)
        var text = $(this).html();
        text = text.substring(0, text.length - 1);

        if (order == "desc") {
          myArray = myArray.sort((a, b) => (a[column] > b[column] ? 1 : -1));
          $(this).data("order", "asc");
          text += "&#9660";
        } else {
          myArray = myArray.sort((a, b) => (a[column] < b[column] ? 1 : -1));
          $(this).data("order", "desc");
          text += "&#9650";
        }
        $(this).html(text);
        buildTable(myArray);
      });

      $("#table-head-naam").on("click", function () {
        var column = $(this).data("column");
        var order = $(this).data("order");
        //console.log('was clicked', column, order)
        var text = $(this).html();
        text = text.substring(0, text.length - 1);

        if (order == "desc") {
          myArray = myArray.sort((a, b) => (a[column] > b[column] ? 1 : -1));
          $(this).data("order", "asc");
          text += "&#9660";
        } else {
          myArray = myArray.sort((a, b) => (a[column] < b[column] ? 1 : -1));
          $(this).data("order", "desc");
          text += "&#9650";
        }
        $(this).html(text);
        buildTable(myArray);
      });

      $("#table-head-cat").on("click", function () {
        var column = $(this).data("column");
        var order = $(this).data("order");
        //console.log('was clicked', column, order)
        var text = $(this).html();
        text = text.substring(0, text.length - 1);

        if (order == "desc") {
          myArray = myArray.sort((a, b) => (a[column] > b[column] ? 1 : -1));
          $(this).data("order", "asc");
          text += "&#9660";
        } else {
          myArray = myArray.sort((a, b) => (a[column] < b[column] ? 1 : -1));
          $(this).data("order", "desc");
          text += "&#9650";
        }
        $(this).html(text);
        buildTable(myArray);
      });

      buildTable(myArray);

      function searchTable(value, data) {
        var filteredData = [];

        for (var i = 0; i < data.length; i++) {
          value = value.toLowerCase();
          var title = data[i].title.toLowerCase();

          if (title.includes(value)) {
            filteredData.push(data[i]);
          }
        }

        return filteredData;
      }

      $.ajax({
        method: "GET",
        url: "json/products.json",
        success: function (response) {
          myArray = response.products;
          buildTable(myArray);
          //console.log(myArray)
        },
      });

      function buildTable(data) {
        var table = document.getElementById("js-tableproduct__body");

        table.innerHTML = "";

        for (var i = 0; i < data.length; i++) {
          var row = `<tr class="js-table__body--row">
      <td></td>
        <td>#${data[i].id}</td>
        <td><img src="${data[i].image}" alt="${data[i].title}"></td>
        <td>${data[i].title}</td>
        <td>${data[i].type}, ${data[i].categorie}</td>
        <td><svg xmlns="http://www.w3.org/2000/svg" fill="${data[i].statusicon}" class="bi bi-file-earmark-check c-table__publishedicon" viewBox="0 0 16 16">
  <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
</svg> <span class="c-table__published">${data[i].status}</span></td>
        <td>${data[i].language}</td>
        <td>
          <div class="c-table__icons">
            <svg class="c-table__icons--1" onclick="deleteRow(${data[i].id}})" id="prullenbak" xmlns="http://www.w3.org/2000/svg" width="21.148" height="27.19" viewBox="0 0 21.148 27.19">
            <path id="prullenbak-2" data-name="prullenbak" d="M6.511,27.169A3.03,3.03,0,0,0,9.532,30.19H21.616a3.03,3.03,0,0,0,3.021-3.021V9.042H6.511ZM26.148,4.511H20.861L19.35,3H11.8L10.287,4.511H5V7.532H26.148Z" transform="translate(-5 -3)" fill="#eee"/>
            </svg>
            <svg class="c-table__icons--2" id="editor" xmlns="http://www.w3.org/2000/svg" width="27.19" height="27.19" viewBox="0 0 27.19 27.19">
            <path id="editor-2" data-name="editor" d="M3,24.524v5.664H8.664l16.7-16.7L19.7,7.819ZM29.749,9.1a1.5,1.5,0,0,0,0-2.13L26.214,3.439a1.5,1.5,0,0,0-2.13,0L21.321,6.2l5.664,5.664L29.749,9.1Z" transform="translate(-3 -2.998)" fill="#eee"/>
            </svg>
          </div>
        </td>
      </tr>`;

          table.innerHTML += row;
        }
      }

      //delete
      // function deleteRow(r) {
      //   document.getElementById("myTable").deleteRow(r);
      // }
    </script>
  </body>
</html>
